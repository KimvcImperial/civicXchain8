{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/kimberleycheung/CiviXchain/civicxchain-platform/frontend/config/contracts.js"],"sourcesContent":["export const CONTRACT_CONFIG = {\n    NETWORK: 'localhost',\n    RPC_URL: 'http://localhost:8545',\n    CHAIN_ID: 31337,\n    // DEPLOYED CONTRACT ADDRESSES (WORKING!)\n    GOVERNANCE_CONTRACT: '0xCf7Ed3AccA5a467e9e704C703E8D87F634fB0Fc9',\n    PM25_ORACLE: '0x5FbDB2315678afecb367f032d93F642f64180aa3',\n    CO2_ORACLE: '0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512',\n    FOREST_ORACLE: '0x9fE46736679d2D9a65F0992F2272dE9f3c7fa6e0',\n    // Legacy for compatibility\n    CIVIC_CONTRACT: '0xCf7Ed3AccA5a467e9e704C703E8D87F634fB0Fc9',\n  };\n  \n  // Copy contract ABI from smart-contracts/artifacts/\n  export const CIVIC_CONTRACT_ABI = [\n    [\n        {\n          \"inputs\": [],\n          \"stateMutability\": \"nonpayable\",\n          \"type\": \"constructor\"\n        },\n        {\n          \"inputs\": [\n            {\n              \"internalType\": \"address\",\n              \"name\": \"owner\",\n              \"type\": \"address\"\n            }\n          ],\n          \"name\": \"OwnableInvalidOwner\",\n          \"type\": \"error\"\n        },\n        {\n          \"inputs\": [\n            {\n              \"internalType\": \"address\",\n              \"name\": \"account\",\n              \"type\": \"address\"\n            }\n          ],\n          \"name\": \"OwnableUnauthorizedAccount\",\n          \"type\": \"error\"\n        },\n        {\n          \"inputs\": [],\n          \"name\": \"ReentrancyGuardReentrantCall\",\n          \"type\": \"error\"\n        },\n        {\n          \"anonymous\": false,\n          \"inputs\": [\n            {\n              \"indexed\": true,\n              \"internalType\": \"uint256\",\n              \"name\": \"commitmentId\",\n              \"type\": \"uint256\"\n            },\n            {\n              \"indexed\": true,\n              \"internalType\": \"address\",\n              \"name\": \"official\",\n              \"type\": \"address\"\n            },\n            {\n              \"indexed\": false,\n              \"internalType\": \"string\",\n              \"name\": \"description\",\n              \"type\": \"string\"\n            },\n            {\n              \"indexed\": false,\n              \"internalType\": \"uint256\",\n              \"name\": \"deadline\",\n              \"type\": \"uint256\"\n            },\n            {\n              \"indexed\": false,\n              \"internalType\": \"uint256\",\n              \"name\": \"targetValue\",\n              \"type\": \"uint256\"\n            },\n            {\n              \"indexed\": false,\n              \"internalType\": \"string\",\n              \"name\": \"metricType\",\n              \"type\": \"string\"\n            }\n          ],\n          \"name\": \"CommitmentCreated\",\n          \"type\": \"event\"\n        },\n        {\n          \"anonymous\": false,\n          \"inputs\": [\n            {\n              \"indexed\": true,\n              \"internalType\": \"uint256\",\n              \"name\": \"commitmentId\",\n              \"type\": \"uint256\"\n            },\n            {\n              \"indexed\": false,\n              \"internalType\": \"uint256\",\n              \"name\": \"actualValue\",\n              \"type\": \"uint256\"\n            },\n            {\n              \"indexed\": false,\n              \"internalType\": \"bool\",\n              \"name\": \"isCompleted\",\n              \"type\": \"bool\"\n            }\n          ],\n          \"name\": \"CommitmentUpdated\",\n          \"type\": \"event\"\n        },\n        {\n          \"anonymous\": false,\n          \"inputs\": [\n            {\n              \"indexed\": true,\n              \"internalType\": \"address\",\n              \"name\": \"previousOwner\",\n              \"type\": \"address\"\n            },\n            {\n              \"indexed\": true,\n              \"internalType\": \"address\",\n              \"name\": \"newOwner\",\n              \"type\": \"address\"\n            }\n          ],\n          \"name\": \"OwnershipTransferred\",\n          \"type\": \"event\"\n        },\n        {\n          \"anonymous\": false,\n          \"inputs\": [\n            {\n              \"indexed\": true,\n              \"internalType\": \"uint256\",\n              \"name\": \"commitmentId\",\n              \"type\": \"uint256\"\n            },\n            {\n              \"indexed\": true,\n              \"internalType\": \"address\",\n              \"name\": \"official\",\n              \"type\": \"address\"\n            }\n          ],\n          \"name\": \"RewardClaimed\",\n          \"type\": \"event\"\n        },\n        {\n          \"inputs\": [\n            {\n              \"internalType\": \"uint256\",\n              \"name\": \"_commitmentId\",\n              \"type\": \"uint256\"\n            }\n          ],\n          \"name\": \"claimReward\",\n          \"outputs\": [],\n          \"stateMutability\": \"nonpayable\",\n          \"type\": \"function\"\n        },\n        {\n          \"inputs\": [\n            {\n              \"internalType\": \"uint256\",\n              \"name\": \"\",\n              \"type\": \"uint256\"\n            }\n          ],\n          \"name\": \"commitments\",\n          \"outputs\": [\n            {\n              \"internalType\": \"uint256\",\n              \"name\": \"id\",\n              \"type\": \"uint256\"\n            },\n            {\n              \"internalType\": \"address\",\n              \"name\": \"official\",\n              \"type\": \"address\"\n            },\n            {\n              \"internalType\": \"string\",\n              \"name\": \"description\",\n              \"type\": \"string\"\n            },\n            {\n              \"internalType\": \"uint256\",\n              \"name\": \"deadline\",\n              \"type\": \"uint256\"\n            },\n            {\n              \"internalType\": \"uint256\",\n              \"name\": \"targetValue\",\n              \"type\": \"uint256\"\n            },\n            {\n              \"internalType\": \"uint256\",\n              \"name\": \"actualValue\",\n              \"type\": \"uint256\"\n            },\n            {\n              \"internalType\": \"string\",\n              \"name\": \"metricType\",\n              \"type\": \"string\"\n            },\n            {\n              \"internalType\": \"string\",\n              \"name\": \"dataSource\",\n              \"type\": \"string\"\n            },\n            {\n              \"internalType\": \"bool\",\n              \"name\": \"isCompleted\",\n              \"type\": \"bool\"\n            },\n            {\n              \"internalType\": \"bool\",\n              \"name\": \"rewardClaimed\",\n              \"type\": \"bool\"\n            },\n            {\n              \"internalType\": \"uint256\",\n              \"name\": \"createdAt\",\n              \"type\": \"uint256\"\n            }\n          ],\n          \"stateMutability\": \"view\",\n          \"type\": \"function\"\n        },\n        {\n          \"inputs\": [\n            {\n              \"internalType\": \"string\",\n              \"name\": \"_description\",\n              \"type\": \"string\"\n            },\n            {\n              \"internalType\": \"uint256\",\n              \"name\": \"_deadline\",\n              \"type\": \"uint256\"\n            },\n            {\n              \"internalType\": \"uint256\",\n              \"name\": \"_targetValue\",\n              \"type\": \"uint256\"\n            },\n            {\n              \"internalType\": \"string\",\n              \"name\": \"_metricType\",\n              \"type\": \"string\"\n            },\n            {\n              \"internalType\": \"string\",\n              \"name\": \"_dataSource\",\n              \"type\": \"string\"\n            }\n          ],\n          \"name\": \"createCommitment\",\n          \"outputs\": [\n            {\n              \"internalType\": \"uint256\",\n              \"name\": \"\",\n              \"type\": \"uint256\"\n            }\n          ],\n          \"stateMutability\": \"nonpayable\",\n          \"type\": \"function\"\n        },\n        {\n          \"inputs\": [\n            {\n              \"internalType\": \"uint256\",\n              \"name\": \"_commitmentId\",\n              \"type\": \"uint256\"\n            }\n          ],\n          \"name\": \"getCommitment\",\n          \"outputs\": [\n            {\n              \"components\": [\n                {\n                  \"internalType\": \"uint256\",\n                  \"name\": \"id\",\n                  \"type\": \"uint256\"\n                },\n                {\n                  \"internalType\": \"address\",\n                  \"name\": \"official\",\n                  \"type\": \"address\"\n                },\n                {\n                  \"internalType\": \"string\",\n                  \"name\": \"description\",\n                  \"type\": \"string\"\n                },\n                {\n                  \"internalType\": \"uint256\",\n                  \"name\": \"deadline\",\n                  \"type\": \"uint256\"\n                },\n                {\n                  \"internalType\": \"uint256\",\n                  \"name\": \"targetValue\",\n                  \"type\": \"uint256\"\n                },\n                {\n                  \"internalType\": \"uint256\",\n                  \"name\": \"actualValue\",\n                  \"type\": \"uint256\"\n                },\n                {\n                  \"internalType\": \"string\",\n                  \"name\": \"metricType\",\n                  \"type\": \"string\"\n                },\n                {\n                  \"internalType\": \"string\",\n                  \"name\": \"dataSource\",\n                  \"type\": \"string\"\n                },\n                {\n                  \"internalType\": \"bool\",\n                  \"name\": \"isCompleted\",\n                  \"type\": \"bool\"\n                },\n                {\n                  \"internalType\": \"bool\",\n                  \"name\": \"rewardClaimed\",\n                  \"type\": \"bool\"\n                },\n                {\n                  \"internalType\": \"uint256\",\n                  \"name\": \"createdAt\",\n                  \"type\": \"uint256\"\n                }\n              ],\n              \"internalType\": \"struct CivicCommitmentContract.Commitment\",\n              \"name\": \"\",\n              \"type\": \"tuple\"\n            }\n          ],\n          \"stateMutability\": \"view\",\n          \"type\": \"function\"\n        },\n        {\n          \"inputs\": [],\n          \"name\": \"getCurrentCommitmentId\",\n          \"outputs\": [\n            {\n              \"internalType\": \"uint256\",\n              \"name\": \"\",\n              \"type\": \"uint256\"\n            }\n          ],\n          \"stateMutability\": \"view\",\n          \"type\": \"function\"\n        },\n        {\n          \"inputs\": [\n            {\n              \"internalType\": \"address\",\n              \"name\": \"_official\",\n              \"type\": \"address\"\n            }\n          ],\n          \"name\": \"getOfficialCommitments\",\n          \"outputs\": [\n            {\n              \"internalType\": \"uint256[]\",\n              \"name\": \"\",\n              \"type\": \"uint256[]\"\n            }\n          ],\n          \"stateMutability\": \"view\",\n          \"type\": \"function\"\n        },\n        {\n          \"inputs\": [\n            {\n              \"internalType\": \"address\",\n              \"name\": \"\",\n              \"type\": \"address\"\n            },\n            {\n              \"internalType\": \"uint256\",\n              \"name\": \"\",\n              \"type\": \"uint256\"\n            }\n          ],\n          \"name\": \"officialCommitments\",\n          \"outputs\": [\n            {\n              \"internalType\": \"uint256\",\n              \"name\": \"\",\n              \"type\": \"uint256\"\n            }\n          ],\n          \"stateMutability\": \"view\",\n          \"type\": \"function\"\n        },\n        {\n          \"inputs\": [],\n          \"name\": \"owner\",\n          \"outputs\": [\n            {\n              \"internalType\": \"address\",\n              \"name\": \"\",\n              \"type\": \"address\"\n            }\n          ],\n          \"stateMutability\": \"view\",\n          \"type\": \"function\"\n        },\n        {\n          \"inputs\": [],\n          \"name\": \"renounceOwnership\",\n          \"outputs\": [],\n          \"stateMutability\": \"nonpayable\",\n          \"type\": \"function\"\n        },\n        {\n          \"inputs\": [\n            {\n              \"internalType\": \"address\",\n              \"name\": \"newOwner\",\n              \"type\": \"address\"\n            }\n          ],\n          \"name\": \"transferOwnership\",\n          \"outputs\": [],\n          \"stateMutability\": \"nonpayable\",\n          \"type\": \"function\"\n        },\n        {\n          \"inputs\": [\n            {\n              \"internalType\": \"uint256\",\n              \"name\": \"_commitmentId\",\n              \"type\": \"uint256\"\n            },\n            {\n              \"internalType\": \"uint256\",\n              \"name\": \"_actualValue\",\n              \"type\": \"uint256\"\n            }\n          ],\n          \"name\": \"updateProgress\",\n          \"outputs\": [],\n          \"stateMutability\": \"nonpayable\",\n          \"type\": \"function\"\n        }\n      ]\n  ];"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 478, "column": 0}, "map": {"version":3,"sources":["file:///Users/kimberleycheung/CiviXchain/civicxchain-platform/frontend/app/components/EnvironmentalDataDisplay.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { useReadContract } from 'wagmi';\nimport { CONTRACT_CONFIG } from '../../config/contracts';\n\n// Mock Aggregator ABI for reading oracle data\nconst MOCK_AGGREGATOR_ABI = [\n  {\n    \"inputs\": [],\n    \"name\": \"latestRoundData\",\n    \"outputs\": [\n      {\"internalType\": \"uint80\", \"name\": \"roundId\", \"type\": \"uint80\"},\n      {\"internalType\": \"int256\", \"name\": \"answer\", \"type\": \"int256\"},\n      {\"internalType\": \"uint256\", \"name\": \"startedAt\", \"type\": \"uint256\"},\n      {\"internalType\": \"uint256\", \"name\": \"updatedAt\", \"type\": \"uint256\"},\n      {\"internalType\": \"uint80\", \"name\": \"answeredInRound\", \"type\": \"uint80\"}\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  }\n] as const;\n\nexport default function EnvironmentalDataDisplay() {\n  const [lastUpdated, setLastUpdated] = useState(new Date());\n\n  // Read oracle data\n  const { data: pm25Data } = useReadContract({\n    address: CONTRACT_CONFIG.PM25_ORACLE as `0x${string}`,\n    abi: MOCK_AGGREGATOR_ABI,\n    functionName: 'latestRoundData',\n  });\n\n  const { data: co2Data } = useReadContract({\n    address: CONTRACT_CONFIG.CO2_ORACLE as `0x${string}`,\n    abi: MOCK_AGGREGATOR_ABI,\n    functionName: 'latestRoundData',\n  });\n\n  const { data: forestData } = useReadContract({\n    address: CONTRACT_CONFIG.FOREST_ORACLE as `0x${string}`,\n    abi: MOCK_AGGREGATOR_ABI,\n    functionName: 'latestRoundData',\n  });\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setLastUpdated(new Date());\n    }, 30000); // Update every 30 seconds\n\n    return () => clearInterval(interval);\n  }, []);\n\n  const formatValue = (value: bigint | undefined, decimals: number = 2) => {\n    if (!value) return '0.00';\n    return (Number(value) / 100).toFixed(decimals);\n  };\n\n  const getStatusColor = (value: number, type: 'pm25' | 'co2' | 'forest') => {\n    switch (type) {\n      case 'pm25':\n        if (value <= 12) return 'text-green-600';\n        if (value <= 35) return 'text-yellow-600';\n        return 'text-red-600';\n      case 'co2':\n        if (value <= 400) return 'text-green-600';\n        if (value <= 450) return 'text-yellow-600';\n        return 'text-red-600';\n      case 'forest':\n        if (value >= 70) return 'text-green-600';\n        if (value >= 50) return 'text-yellow-600';\n        return 'text-red-600';\n      default:\n        return 'text-gray-600';\n    }\n  };\n\n  const getStatusIcon = (value: number, type: 'pm25' | 'co2' | 'forest') => {\n    switch (type) {\n      case 'pm25':\n        if (value <= 12) return 'üü¢';\n        if (value <= 35) return 'üü°';\n        return 'üî¥';\n      case 'co2':\n        if (value <= 400) return 'üü¢';\n        if (value <= 450) return 'üü°';\n        return 'üî¥';\n      case 'forest':\n        if (value >= 70) return 'üü¢';\n        if (value >= 50) return 'üü°';\n        return 'üî¥';\n      default:\n        return '‚ö™';\n    }\n  };\n\n  const pm25Value = pm25Data ? Number(pm25Data[1]) / 100 : 12.03;\n  const co2Value = co2Data ? Number(co2Data[1]) / 100 : 416.64;\n  const forestValue = forestData ? Number(forestData[1]) / 100 : 65.68;\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex justify-between items-center\">\n        <h2 className=\"text-xl font-bold text-gray-900\">üåç Live Environmental Data</h2>\n        <div className=\"flex items-center text-sm text-gray-500\">\n          <div className=\"w-2 h-2 bg-green-500 rounded-full mr-2 animate-pulse\"></div>\n          Last updated: {lastUpdated.toLocaleTimeString()}\n        </div>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n        {/* PM2.5 Data */}\n        <div className=\"bg-white rounded-lg shadow-lg p-6 border-l-4 border-blue-500\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <div className=\"flex items-center\">\n              <span className=\"text-2xl mr-3\">üè≠</span>\n              <h3 className=\"text-lg font-semibold text-gray-900\">PM2.5 Levels</h3>\n            </div>\n            <span className=\"text-xl\">{getStatusIcon(pm25Value, 'pm25')}</span>\n          </div>\n          \n          <div className=\"space-y-2\">\n            <div className=\"flex items-baseline\">\n              <span className={`text-3xl font-bold ${getStatusColor(pm25Value, 'pm25')}`}>\n                {pm25Value.toFixed(2)}\n              </span>\n              <span className=\"text-gray-500 ml-2\">Œºg/m¬≥</span>\n            </div>\n            \n            <div className=\"text-sm text-gray-600\">\n              <p>WHO Guideline: ‚â§ 15 Œºg/m¬≥</p>\n              <p className=\"text-xs mt-1\">\n                Oracle: {CONTRACT_CONFIG.PM25_ORACLE.slice(0, 8)}...\n              </p>\n            </div>\n\n            <div className=\"mt-4\">\n              <div className=\"flex justify-between text-xs text-gray-500 mb-1\">\n                <span>Good (0-12)</span>\n                <span>Hazardous (55+)</span>\n              </div>\n              <div className=\"w-full bg-gray-200 rounded-full h-2\">\n                <div \n                  className={`h-2 rounded-full ${\n                    pm25Value <= 12 ? 'bg-green-500' : \n                    pm25Value <= 35 ? 'bg-yellow-500' : 'bg-red-500'\n                  }`}\n                  style={{ width: `${Math.min((pm25Value / 55) * 100, 100)}%` }}\n                ></div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* CO2 Data */}\n        <div className=\"bg-white rounded-lg shadow-lg p-6 border-l-4 border-orange-500\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <div className=\"flex items-center\">\n              <span className=\"text-2xl mr-3\">üåç</span>\n              <h3 className=\"text-lg font-semibold text-gray-900\">CO2 Levels</h3>\n            </div>\n            <span className=\"text-xl\">{getStatusIcon(co2Value, 'co2')}</span>\n          </div>\n          \n          <div className=\"space-y-2\">\n            <div className=\"flex items-baseline\">\n              <span className={`text-3xl font-bold ${getStatusColor(co2Value, 'co2')}`}>\n                {co2Value.toFixed(1)}\n              </span>\n              <span className=\"text-gray-500 ml-2\">ppm</span>\n            </div>\n            \n            <div className=\"text-sm text-gray-600\">\n              <p>Pre-industrial: ~280 ppm</p>\n              <p className=\"text-xs mt-1\">\n                Oracle: {CONTRACT_CONFIG.CO2_ORACLE.slice(0, 8)}...\n              </p>\n            </div>\n\n            <div className=\"mt-4\">\n              <div className=\"flex justify-between text-xs text-gray-500 mb-1\">\n                <span>Safe (280-350)</span>\n                <span>Critical (450+)</span>\n              </div>\n              <div className=\"w-full bg-gray-200 rounded-full h-2\">\n                <div \n                  className={`h-2 rounded-full ${\n                    co2Value <= 400 ? 'bg-green-500' : \n                    co2Value <= 450 ? 'bg-yellow-500' : 'bg-red-500'\n                  }`}\n                  style={{ width: `${Math.min(((co2Value - 280) / (500 - 280)) * 100, 100)}%` }}\n                ></div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Forest Cover Data */}\n        <div className=\"bg-white rounded-lg shadow-lg p-6 border-l-4 border-green-500\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <div className=\"flex items-center\">\n              <span className=\"text-2xl mr-3\">üå≥</span>\n              <h3 className=\"text-lg font-semibold text-gray-900\">Forest Cover</h3>\n            </div>\n            <span className=\"text-xl\">{getStatusIcon(forestValue, 'forest')}</span>\n          </div>\n          \n          <div className=\"space-y-2\">\n            <div className=\"flex items-baseline\">\n              <span className={`text-3xl font-bold ${getStatusColor(forestValue, 'forest')}`}>\n                {forestValue.toFixed(1)}\n              </span>\n              <span className=\"text-gray-500 ml-2\">%</span>\n            </div>\n            \n            <div className=\"text-sm text-gray-600\">\n              <p>Global Average: ~31%</p>\n              <p className=\"text-xs mt-1\">\n                Oracle: {CONTRACT_CONFIG.FOREST_ORACLE.slice(0, 8)}...\n              </p>\n            </div>\n\n            <div className=\"mt-4\">\n              <div className=\"flex justify-between text-xs text-gray-500 mb-1\">\n                <span>Critical (0-30)</span>\n                <span>Excellent (70+)</span>\n              </div>\n              <div className=\"w-full bg-gray-200 rounded-full h-2\">\n                <div \n                  className={`h-2 rounded-full ${\n                    forestValue >= 70 ? 'bg-green-500' : \n                    forestValue >= 50 ? 'bg-yellow-500' : 'bg-red-500'\n                  }`}\n                  style={{ width: `${forestValue}%` }}\n                ></div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Data Source Info */}\n      <div className=\"bg-gray-50 rounded-lg p-4\">\n        <h4 className=\"text-sm font-semibold text-gray-700 mb-2\">üì° Data Sources</h4>\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 text-xs text-gray-600\">\n          <div>\n            <p><strong>PM2.5:</strong> Real-time air quality data from environmental monitoring stations</p>\n          </div>\n          <div>\n            <p><strong>CO2:</strong> Atmospheric carbon dioxide measurements from global monitoring network</p>\n          </div>\n          <div>\n            <p><strong>Forest Cover:</strong> Satellite imagery analysis and forestry department reports</p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1252, "column": 0}, "map": {"version":3,"sources":["file:///Users/kimberleycheung/CiviXchain/civicxchain-platform/frontend/app/components/CommitmentList.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { useWriteContract, useWaitForTransactionReceipt } from 'wagmi';\nimport { formatEther } from 'viem';\nimport { CONTRACT_CONFIG } from '../../config/contracts';\n\nconst GOVERNANCE_ABI = [\n  {\n    \"inputs\": [{\"internalType\": \"uint256\", \"name\": \"_commitmentId\", \"type\": \"uint256\"}],\n    \"name\": \"claimEnvironmentalReward\",\n    \"outputs\": [{\"internalType\": \"uint256\", \"name\": \"tokensRewarded\", \"type\": \"uint256\"}],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  }\n] as const;\n\ninterface CommitmentListProps {\n  commitment: any;\n  fulfillmentStatus: any;\n  onRefresh: () => void;\n}\n\nexport default function CommitmentList({ commitment, fulfillmentStatus, onRefresh }: CommitmentListProps) {\n  const [isClaimingReward, setIsClaimingReward] = useState(false);\n\n  const { writeContract, data: hash, error } = useWriteContract();\n  \n  const { isLoading: isConfirming, isSuccess: isConfirmed } = useWaitForTransactionReceipt({\n    hash,\n  });\n\n  const handleClaimReward = async () => {\n    if (!commitment || !fulfillmentStatus?.[0]) return;\n    \n    setIsClaimingReward(true);\n    try {\n      writeContract({\n        address: CONTRACT_CONFIG.GOVERNANCE_CONTRACT as `0x${string}`,\n        abi: GOVERNANCE_ABI,\n        functionName: 'claimEnvironmentalReward',\n        args: [1n],\n      });\n    } catch (err) {\n      console.error('Error claiming reward:', err);\n    } finally {\n      setIsClaimingReward(false);\n    }\n  };\n\n  if (isConfirmed) {\n    onRefresh();\n  }\n\n  if (!commitment) {\n    return (\n      <div className=\"text-center py-12\">\n        <div className=\"text-6xl mb-4\">üìã</div>\n        <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No Commitments Yet</h3>\n        <p className=\"text-gray-500 mb-6\">Create your first environmental commitment to get started!</p>\n        <button className=\"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors\">\n          Create Commitment\n        </button>\n      </div>\n    );\n  }\n\n  const deadline = new Date(Number(commitment[7]) * 1000);\n  const isExpired = deadline < new Date();\n  const daysLeft = Math.ceil((deadline.getTime() - Date.now()) / (1000 * 60 * 60 * 24));\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex justify-between items-center\">\n        <h2 className=\"text-xl font-bold text-gray-900\">üìã Environmental Commitments</h2>\n        <div className=\"text-sm text-gray-500\">\n          Total Active: 1\n        </div>\n      </div>\n\n      {/* Commitment Card */}\n      <div className=\"bg-white rounded-lg shadow-lg border border-gray-200 overflow-hidden\">\n        {/* Header */}\n        <div className=\"bg-gradient-to-r from-green-50 to-blue-50 px-6 py-4 border-b\">\n          <div className=\"flex justify-between items-start\">\n            <div>\n              <h3 className=\"text-lg font-semibold text-gray-900\">{commitment[1]}</h3>\n              <p className=\"text-sm text-gray-600 mt-1\">ID: #{Number(commitment[0])}</p>\n            </div>\n            <div className=\"flex items-center space-x-2\">\n              {commitment[10] ? (\n                <span className=\"px-3 py-1 bg-green-100 text-green-800 text-sm font-medium rounded-full\">\n                  ‚úÖ Fulfilled\n                </span>\n              ) : fulfillmentStatus?.[0] ? (\n                <span className=\"px-3 py-1 bg-blue-100 text-blue-800 text-sm font-medium rounded-full\">\n                  üéØ Ready to Claim\n                </span>\n              ) : (\n                <span className=\"px-3 py-1 bg-yellow-100 text-yellow-800 text-sm font-medium rounded-full\">\n                  ‚è≥ In Progress\n                </span>\n              )}\n            </div>\n          </div>\n        </div>\n\n        {/* Content */}\n        <div className=\"px-6 py-4\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            {/* Left Column */}\n            <div className=\"space-y-4\">\n              <div>\n                <h4 className=\"text-sm font-medium text-gray-700 mb-2\">üìù Description</h4>\n                <p className=\"text-gray-600 text-sm\">{commitment[2]}</p>\n              </div>\n\n              <div>\n                <h4 className=\"text-sm font-medium text-gray-700 mb-2\">üë§ Official</h4>\n                <div className=\"text-sm\">\n                  <p className=\"font-medium\">{commitment[4]}</p>\n                  <p className=\"text-gray-600\">{commitment[5]}</p>\n                  <p className=\"text-xs text-gray-500 mt-1\">\n                    {commitment[3].slice(0, 8)}...{commitment[3].slice(-6)}\n                  </p>\n                </div>\n              </div>\n\n              <div>\n                <h4 className=\"text-sm font-medium text-gray-700 mb-2\">üí∞ Financial Details</h4>\n                <div className=\"text-sm space-y-1\">\n                  <p>Stake: <span className=\"font-medium\">{formatEther(commitment[12])} ETH</span></p>\n                  <p>Reward: <span className=\"font-medium text-green-600\">{formatEther(commitment[13])} CIVIC</span></p>\n                </div>\n              </div>\n            </div>\n\n            {/* Right Column */}\n            <div className=\"space-y-4\">\n              <div>\n                <h4 className=\"text-sm font-medium text-gray-700 mb-2\">üéØ Target & Progress</h4>\n                <div className=\"space-y-2\">\n                  <div className=\"flex justify-between text-sm\">\n                    <span>Metric Type:</span>\n                    <span className=\"font-medium uppercase\">{commitment[8]}</span>\n                  </div>\n                  <div className=\"flex justify-between text-sm\">\n                    <span>Target Value:</span>\n                    <span className=\"font-medium\">{(Number(commitment[6]) / 100).toFixed(2)} Œºg/m¬≥</span>\n                  </div>\n                  {fulfillmentStatus && (\n                    <div className=\"flex justify-between text-sm\">\n                      <span>Current Value:</span>\n                      <span className=\"font-medium\">{(Number(fulfillmentStatus[1]) / 100).toFixed(2)} Œºg/m¬≥</span>\n                    </div>\n                  )}\n                </div>\n              </div>\n\n              <div>\n                <h4 className=\"text-sm font-medium text-gray-700 mb-2\">‚è∞ Timeline</h4>\n                <div className=\"text-sm space-y-1\">\n                  <p>Deadline: <span className=\"font-medium\">{deadline.toLocaleDateString()}</span></p>\n                  <p className={`${isExpired ? 'text-red-600' : daysLeft <= 7 ? 'text-yellow-600' : 'text-green-600'}`}>\n                    {isExpired ? '‚ö†Ô∏è Expired' : `${daysLeft} days remaining`}\n                  </p>\n                </div>\n              </div>\n\n              <div>\n                <h4 className=\"text-sm font-medium text-gray-700 mb-2\">üìä Status</h4>\n                <div className=\"space-y-2\">\n                  <div className=\"flex items-center justify-between text-sm\">\n                    <span>Target Achievement:</span>\n                    <span className={`font-medium ${fulfillmentStatus?.[0] ? 'text-green-600' : 'text-yellow-600'}`}>\n                      {fulfillmentStatus?.[0] ? '‚úÖ Achieved' : '‚è≥ Pending'}\n                    </span>\n                  </div>\n                  <div className=\"flex items-center justify-between text-sm\">\n                    <span>Reward Status:</span>\n                    <span className={`font-medium ${commitment[11] ? 'text-blue-600' : 'text-gray-600'}`}>\n                      {commitment[11] ? 'üí∞ Claimed' : '‚è≥ Available'}\n                    </span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Progress Bar */}\n          {fulfillmentStatus && (\n            <div className=\"mt-6\">\n              <div className=\"flex justify-between text-sm text-gray-600 mb-2\">\n                <span>Progress to Target</span>\n                <span>\n                  {fulfillmentStatus[0] ? '100%' : \n                   `${Math.max(0, Math.min(100, ((Number(commitment[6]) - Number(fulfillmentStatus[1])) / Number(commitment[6])) * 100)).toFixed(1)}%`}\n                </span>\n              </div>\n              <div className=\"w-full bg-gray-200 rounded-full h-3\">\n                <div \n                  className={`h-3 rounded-full transition-all duration-500 ${\n                    fulfillmentStatus[0] ? 'bg-green-500' : 'bg-yellow-500'\n                  }`}\n                  style={{ \n                    width: fulfillmentStatus[0] ? '100%' : \n                           `${Math.max(5, Math.min(100, ((Number(commitment[6]) - Number(fulfillmentStatus[1])) / Number(commitment[6])) * 100))}%`\n                  }}\n                ></div>\n              </div>\n            </div>\n          )}\n\n          {/* Action Buttons */}\n          <div className=\"mt-6 flex space-x-3\">\n            {fulfillmentStatus?.[0] && !commitment[11] && (\n              <button\n                onClick={handleClaimReward}\n                disabled={isClaimingReward || isConfirming}\n                className=\"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n              >\n                {isClaimingReward || isConfirming ? (\n                  <span className=\"flex items-center\">\n                    <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"></div>\n                    Claiming...\n                  </span>\n                ) : (\n                  'üèÜ Claim Reward'\n                )}\n              </button>\n            )}\n            \n            <button className=\"bg-gray-100 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-200 transition-colors\">\n              üìä View Details\n            </button>\n            \n            <button className=\"bg-blue-100 text-blue-700 px-6 py-2 rounded-lg hover:bg-blue-200 transition-colors\">\n              üìà Track Progress\n            </button>\n          </div>\n\n          {/* Transaction Status */}\n          {error && (\n            <div className=\"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg\">\n              <p className=\"text-red-700 text-sm\">‚ùå Error: {error.message}</p>\n            </div>\n          )}\n          \n          {hash && (\n            <div className=\"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg\">\n              <p className=\"text-blue-700 text-sm\">\n                üìù Transaction: {hash.slice(0, 10)}...{hash.slice(-8)}\n                {isConfirming && <span className=\"ml-2\">‚è≥ Confirming...</span>}\n                {isConfirmed && <span className=\"ml-2\">‚úÖ Confirmed!</span>}\n              </p>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2055, "column": 0}, "map": {"version":3,"sources":["file:///Users/kimberleycheung/CiviXchain/civicxchain-platform/frontend/app/components/CreateCommitmentForm.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { useWriteContract, useWaitForTransactionReceipt } from 'wagmi';\nimport { parseEther } from 'viem';\nimport { CONTRACT_CONFIG } from '../../config/contracts';\n\nconst GOVERNANCE_ABI = [\n  {\n    \"inputs\": [\n      {\"internalType\": \"string\", \"name\": \"_title\", \"type\": \"string\"},\n      {\"internalType\": \"string\", \"name\": \"_description\", \"type\": \"string\"},\n      {\"internalType\": \"string\", \"name\": \"_officialName\", \"type\": \"string\"},\n      {\"internalType\": \"string\", \"name\": \"_officialRole\", \"type\": \"string\"},\n      {\"internalType\": \"uint256\", \"name\": \"_targetValue\", \"type\": \"uint256\"},\n      {\"internalType\": \"uint256\", \"name\": \"_deadline\", \"type\": \"uint256\"},\n      {\"internalType\": \"string\", \"name\": \"_metricType\", \"type\": \"string\"}\n    ],\n    \"name\": \"createCommitment\",\n    \"outputs\": [],\n    \"stateMutability\": \"payable\",\n    \"type\": \"function\"\n  }\n] as const;\n\ninterface CreateCommitmentFormProps {\n  onSuccess: () => void;\n}\n\nexport default function CreateCommitmentForm({ onSuccess }: CreateCommitmentFormProps) {\n  const [formData, setFormData] = useState({\n    title: '',\n    description: '',\n    officialName: '',\n    officialRole: '',\n    targetValue: '',\n    deadline: '',\n    metricType: 'pm25',\n    stakeAmount: '0.1'\n  });\n\n  const { writeContract, data: hash, error } = useWriteContract();\n  \n  const { isLoading: isConfirming, isSuccess: isConfirmed } = useWaitForTransactionReceipt({\n    hash,\n  });\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    try {\n      const deadlineTimestamp = Math.floor(new Date(formData.deadline).getTime() / 1000);\n      const targetValueScaled = Math.floor(parseFloat(formData.targetValue) * 100); // Scale to match contract format\n      \n      writeContract({\n        address: CONTRACT_CONFIG.GOVERNANCE_CONTRACT as `0x${string}`,\n        abi: GOVERNANCE_ABI,\n        functionName: 'createCommitment',\n        args: [\n          formData.title,\n          formData.description,\n          formData.officialName,\n          formData.officialRole,\n          BigInt(targetValueScaled),\n          BigInt(deadlineTimestamp),\n          formData.metricType\n        ],\n        value: parseEther(formData.stakeAmount),\n      });\n    } catch (err) {\n      console.error('Error creating commitment:', err);\n    }\n  };\n\n  if (isConfirmed) {\n    onSuccess();\n    // Reset form\n    setFormData({\n      title: '',\n      description: '',\n      officialName: '',\n      officialRole: '',\n      targetValue: '',\n      deadline: '',\n      metricType: 'pm25',\n      stakeAmount: '0.1'\n    });\n  }\n\n  const metricOptions = [\n    { value: 'pm25', label: 'üè≠ PM2.5 Air Quality', unit: 'Œºg/m¬≥', example: '15.0' },\n    { value: 'co2', label: 'üåç CO2 Emissions', unit: 'ppm', example: '400.0' },\n    { value: 'forest_cover', label: 'üå≥ Forest Cover', unit: '%', example: '75.0' },\n  ];\n\n  const selectedMetric = metricOptions.find(m => m.value === formData.metricType);\n\n  return (\n    <div className=\"max-w-2xl mx-auto\">\n      <div className=\"bg-white rounded-lg shadow-lg p-8\">\n        <div className=\"text-center mb-8\">\n          <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">‚ûï Create Environmental Commitment</h2>\n          <p className=\"text-gray-600\">Make a blockchain-verified commitment to environmental improvement</p>\n        </div>\n\n        <form onSubmit={handleSubmit} className=\"space-y-6\">\n          {/* Title */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              üìù Commitment Title *\n            </label>\n            <input\n              type=\"text\"\n              required\n              value={formData.title}\n              onChange={(e) => setFormData({...formData, title: e.target.value})}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n              placeholder=\"e.g., Reduce City PM2.5 Levels by 25%\"\n            />\n          </div>\n\n          {/* Description */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              üìÑ Detailed Description *\n            </label>\n            <textarea\n              required\n              rows={4}\n              value={formData.description}\n              onChange={(e) => setFormData({...formData, description: e.target.value})}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n              placeholder=\"Describe your environmental commitment, including specific actions and expected outcomes...\"\n            />\n          </div>\n\n          {/* Official Details */}\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                üë§ Official Name *\n              </label>\n              <input\n                type=\"text\"\n                required\n                value={formData.officialName}\n                onChange={(e) => setFormData({...formData, officialName: e.target.value})}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                placeholder=\"e.g., John Smith\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                üèõÔ∏è Role/Position *\n              </label>\n              <input\n                type=\"text\"\n                required\n                value={formData.officialRole}\n                onChange={(e) => setFormData({...formData, officialRole: e.target.value})}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                placeholder=\"e.g., Mayor, Environmental Director\"\n              />\n            </div>\n          </div>\n\n          {/* Metric Type */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              üìä Environmental Metric *\n            </label>\n            <select\n              value={formData.metricType}\n              onChange={(e) => setFormData({...formData, metricType: e.target.value})}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n            >\n              {metricOptions.map((option) => (\n                <option key={option.value} value={option.value}>\n                  {option.label}\n                </option>\n              ))}\n            </select>\n          </div>\n\n          {/* Target Value */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              üéØ Target Value * ({selectedMetric?.unit})\n            </label>\n            <input\n              type=\"number\"\n              step=\"0.01\"\n              required\n              value={formData.targetValue}\n              onChange={(e) => setFormData({...formData, targetValue: e.target.value})}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n              placeholder={`e.g., ${selectedMetric?.example}`}\n            />\n            <p className=\"text-xs text-gray-500 mt-1\">\n              Current value: {formData.metricType === 'pm25' ? '12.03 Œºg/m¬≥' : \n                            formData.metricType === 'co2' ? '416.64 ppm' : '65.68%'}\n            </p>\n          </div>\n\n          {/* Deadline */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              ‚è∞ Deadline *\n            </label>\n            <input\n              type=\"date\"\n              required\n              value={formData.deadline}\n              onChange={(e) => setFormData({...formData, deadline: e.target.value})}\n              min={new Date().toISOString().split('T')[0]}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n            />\n          </div>\n\n          {/* Stake Amount */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              üí∞ Stake Amount (ETH) *\n            </label>\n            <input\n              type=\"number\"\n              step=\"0.01\"\n              min=\"0.01\"\n              required\n              value={formData.stakeAmount}\n              onChange={(e) => setFormData({...formData, stakeAmount: e.target.value})}\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n              placeholder=\"0.1\"\n            />\n            <p className=\"text-xs text-gray-500 mt-1\">\n              Higher stakes earn more CIVIC tokens. Recommended: 0.1 - 1.0 ETH\n            </p>\n          </div>\n\n          {/* Reward Preview */}\n          <div className=\"bg-green-50 rounded-lg p-4\">\n            <h4 className=\"text-sm font-semibold text-green-800 mb-2\">üèÜ Estimated Rewards</h4>\n            <div className=\"text-sm text-green-700 space-y-1\">\n              <p>CIVIC Tokens: ~{(parseFloat(formData.stakeAmount || '0') * 1000 * 1.5).toFixed(0)} CIVIC</p>\n              <p>ETH Return: {(parseFloat(formData.stakeAmount || '0') * 1.5).toFixed(2)} ETH (150% of stake)</p>\n              <p className=\"text-xs\">*Rewards only paid upon successful completion</p>\n            </div>\n          </div>\n\n          {/* Submit Button */}\n          <button\n            type=\"submit\"\n            disabled={isConfirming}\n            className=\"w-full bg-gradient-to-r from-green-600 to-blue-600 text-white font-semibold py-3 px-6 rounded-lg hover:from-green-700 hover:to-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl\"\n          >\n            {isConfirming ? (\n              <span className=\"flex items-center justify-center\">\n                <div className=\"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2\"></div>\n                Creating Commitment...\n              </span>\n            ) : (\n              'üöÄ Create Commitment'\n            )}\n          </button>\n        </form>\n\n        {/* Transaction Status */}\n        {error && (\n          <div className=\"mt-6 p-4 bg-red-50 border border-red-200 rounded-lg\">\n            <p className=\"text-red-700 text-sm\">‚ùå Error: {error.message}</p>\n          </div>\n        )}\n        \n        {hash && (\n          <div className=\"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg\">\n            <p className=\"text-blue-700 text-sm\">\n              üìù Transaction: {hash.slice(0, 10)}...{hash.slice(-8)}\n              {isConfirming && <span className=\"ml-2\">‚è≥ Confirming...</span>}\n              {isConfirmed && <span className=\"ml-2\">‚úÖ Confirmed!</span>}\n            </p>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2685, "column": 0}, "map": {"version":3,"sources":["file:///Users/kimberleycheung/CiviXchain/civicxchain-platform/frontend/app/components/TokenBalance.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { formatEther } from 'viem';\nimport { useAccount } from 'wagmi';\nimport { CONTRACT_CONFIG } from '../../config/contracts';\n\ninterface TokenBalanceProps {\n  userBalance: bigint | undefined;\n  commitment: any;\n  fulfillmentStatus: any;\n  onRefresh: () => void;\n}\n\nexport default function TokenBalance({ userBalance, commitment, fulfillmentStatus, onRefresh }: TokenBalanceProps) {\n  const { address } = useAccount();\n  const [showTransactionHistory, setShowTransactionHistory] = useState(false);\n\n  const balance = userBalance ? formatEther(userBalance) : '0';\n  const balanceNumber = parseFloat(balance);\n\n  // Mock transaction history\n  const transactions = [\n    {\n      id: 1,\n      type: 'reward',\n      amount: '+150.0',\n      description: 'PM2.5 Reduction Commitment Reward',\n      date: '2024-01-15',\n      status: 'completed',\n      hash: '0x1234...5678'\n    },\n    {\n      id: 2,\n      type: 'stake',\n      amount: '-0.1 ETH',\n      description: 'Environmental Commitment Stake',\n      date: '2024-01-10',\n      status: 'completed',\n      hash: '0x9abc...def0'\n    }\n  ];\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"text-center\">\n        <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">üèÜ My Rewards & Tokens</h2>\n        <p className=\"text-gray-600\">Track your CIVIC token earnings and environmental impact</p>\n      </div>\n\n      {/* Balance Overview */}\n      <div className=\"bg-gradient-to-r from-green-50 to-blue-50 rounded-xl p-8 text-center\">\n        <div className=\"mb-4\">\n          <span className=\"text-6xl\">üí∞</span>\n        </div>\n        <div className=\"space-y-2\">\n          <p className=\"text-sm text-gray-600\">Your CIVIC Token Balance</p>\n          <p className=\"text-4xl font-bold text-gray-900\">{balanceNumber.toFixed(2)}</p>\n          <p className=\"text-sm text-gray-500\">CIVIC Tokens</p>\n        </div>\n        \n        {balanceNumber > 0 && (\n          <div className=\"mt-6 p-4 bg-white rounded-lg\">\n            <p className=\"text-sm text-gray-600 mb-2\">Estimated Value</p>\n            <p className=\"text-lg font-semibold text-green-600\">\n              ~${(balanceNumber * 0.1).toFixed(2)} USD\n            </p>\n            <p className=\"text-xs text-gray-500\">*Based on current market rates</p>\n          </div>\n        )}\n      </div>\n\n      {/* Reward Status */}\n      {commitment && (\n        <div className=\"bg-white rounded-lg shadow p-6\">\n          <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">üéØ Current Commitment Rewards</h3>\n          \n          <div className=\"space-y-4\">\n            <div className=\"flex justify-between items-center p-4 bg-gray-50 rounded-lg\">\n              <div>\n                <p className=\"font-medium text-gray-900\">{commitment[1]}</p>\n                <p className=\"text-sm text-gray-600\">Potential Reward: {formatEther(commitment[13])} CIVIC</p>\n              </div>\n              <div className=\"text-right\">\n                {commitment[11] ? (\n                  <span className=\"px-3 py-1 bg-green-100 text-green-800 text-sm font-medium rounded-full\">\n                    ‚úÖ Claimed\n                  </span>\n                ) : fulfillmentStatus?.[0] ? (\n                  <span className=\"px-3 py-1 bg-blue-100 text-blue-800 text-sm font-medium rounded-full\">\n                    üéÅ Ready to Claim\n                  </span>\n                ) : (\n                  <span className=\"px-3 py-1 bg-yellow-100 text-yellow-800 text-sm font-medium rounded-full\">\n                    ‚è≥ In Progress\n                  </span>\n                )}\n              </div>\n            </div>\n\n            {fulfillmentStatus && (\n              <div className=\"grid grid-cols-2 gap-4 text-sm\">\n                <div className=\"text-center p-3 bg-blue-50 rounded-lg\">\n                  <p className=\"text-blue-600 font-medium\">Current Progress</p>\n                  <p className=\"text-2xl font-bold text-blue-800\">\n                    {fulfillmentStatus[0] ? '100%' : '75%'}\n                  </p>\n                </div>\n                <div className=\"text-center p-3 bg-green-50 rounded-lg\">\n                  <p className=\"text-green-600 font-medium\">Completion Status</p>\n                  <p className=\"text-2xl font-bold text-green-800\">\n                    {fulfillmentStatus[0] ? '‚úÖ' : '‚è≥'}\n                  </p>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n\n      {/* Token Utility */}\n      <div className=\"bg-white rounded-lg shadow p-6\">\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">üîß Token Utility</h3>\n        \n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <div className=\"p-4 border border-gray-200 rounded-lg\">\n            <div className=\"flex items-center mb-2\">\n              <span className=\"text-2xl mr-3\">üó≥Ô∏è</span>\n              <h4 className=\"font-medium\">Governance Voting</h4>\n            </div>\n            <p className=\"text-sm text-gray-600\">\n              Use CIVIC tokens to vote on environmental policies and platform improvements.\n            </p>\n          </div>\n\n          <div className=\"p-4 border border-gray-200 rounded-lg\">\n            <div className=\"flex items-center mb-2\">\n              <span className=\"text-2xl mr-3\">üéÅ</span>\n              <h4 className=\"font-medium\">Staking Rewards</h4>\n            </div>\n            <p className=\"text-sm text-gray-600\">\n              Stake tokens to earn additional rewards and support the network.\n            </p>\n          </div>\n\n          <div className=\"p-4 border border-gray-200 rounded-lg\">\n            <div className=\"flex items-center mb-2\">\n              <span className=\"text-2xl mr-3\">üè™</span>\n              <h4 className=\"font-medium\">Marketplace</h4>\n            </div>\n            <p className=\"text-sm text-gray-600\">\n              Trade tokens for environmental credits and carbon offsets.\n            </p>\n          </div>\n\n          <div className=\"p-4 border border-gray-200 rounded-lg\">\n            <div className=\"flex items-center mb-2\">\n              <span className=\"text-2xl mr-3\">üå±</span>\n              <h4 className=\"font-medium\">Green Projects</h4>\n            </div>\n            <p className=\"text-sm text-gray-600\">\n              Fund environmental initiatives and conservation projects.\n            </p>\n          </div>\n        </div>\n      </div>\n\n      {/* Transaction History */}\n      <div className=\"bg-white rounded-lg shadow p-6\">\n        <div className=\"flex justify-between items-center mb-4\">\n          <h3 className=\"text-lg font-semibold text-gray-900\">üìä Transaction History</h3>\n          <button\n            onClick={() => setShowTransactionHistory(!showTransactionHistory)}\n            className=\"text-blue-600 hover:text-blue-800 text-sm font-medium\"\n          >\n            {showTransactionHistory ? 'Hide' : 'Show'} History\n          </button>\n        </div>\n\n        {showTransactionHistory && (\n          <div className=\"space-y-3\">\n            {transactions.map((tx) => (\n              <div key={tx.id} className=\"flex justify-between items-center p-3 border border-gray-200 rounded-lg\">\n                <div className=\"flex items-center\">\n                  <div className={`w-3 h-3 rounded-full mr-3 ${\n                    tx.type === 'reward' ? 'bg-green-500' : 'bg-blue-500'\n                  }`}></div>\n                  <div>\n                    <p className=\"font-medium text-gray-900\">{tx.description}</p>\n                    <p className=\"text-xs text-gray-500\">{tx.date} ‚Ä¢ {tx.hash}</p>\n                  </div>\n                </div>\n                <div className=\"text-right\">\n                  <p className={`font-medium ${\n                    tx.type === 'reward' ? 'text-green-600' : 'text-blue-600'\n                  }`}>\n                    {tx.amount}\n                  </p>\n                  <p className=\"text-xs text-gray-500 capitalize\">{tx.status}</p>\n                </div>\n              </div>\n            ))}\n            \n            {transactions.length === 0 && (\n              <div className=\"text-center py-8\">\n                <span className=\"text-4xl mb-2 block\">üìù</span>\n                <p className=\"text-gray-500\">No transactions yet</p>\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n\n      {/* Wallet Info */}\n      <div className=\"bg-gray-50 rounded-lg p-4\">\n        <h4 className=\"text-sm font-semibold text-gray-700 mb-2\">üíº Wallet Information</h4>\n        <div className=\"text-sm text-gray-600 space-y-1\">\n          <p><strong>Address:</strong> {address?.slice(0, 8)}...{address?.slice(-6)}</p>\n          <p><strong>Network:</strong> Localhost (Chain ID: 31337)</p>\n          <p><strong>Contract:</strong> {CONTRACT_CONFIG.GOVERNANCE_CONTRACT.slice(0, 8)}...</p>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3447, "column": 0}, "map": {"version":3,"sources":["file:///Users/kimberleycheung/CiviXchain/civicxchain-platform/frontend/app/components/CivicXChainDashboard.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { useAccount, useReadContract, useWriteContract, useWaitForTransactionReceipt } from 'wagmi';\nimport { parseEther, formatEther } from 'viem';\nimport { CONTRACT_CONFIG } from '../../config/contracts';\nimport EnvironmentalDataDisplay from './EnvironmentalDataDisplay';\nimport CommitmentList from './CommitmentList';\nimport CreateCommitmentForm from './CreateCommitmentForm';\nimport TokenBalance from './TokenBalance';\n\n// Simplified ABI for the main functions we need\nconst GOVERNANCE_ABI = [\n  {\n    \"inputs\": [\n      {\"internalType\": \"string\", \"name\": \"_title\", \"type\": \"string\"},\n      {\"internalType\": \"string\", \"name\": \"_description\", \"type\": \"string\"},\n      {\"internalType\": \"string\", \"name\": \"_officialName\", \"type\": \"string\"},\n      {\"internalType\": \"string\", \"name\": \"_officialRole\", \"type\": \"string\"},\n      {\"internalType\": \"uint256\", \"name\": \"_targetValue\", \"type\": \"uint256\"},\n      {\"internalType\": \"uint256\", \"name\": \"_deadline\", \"type\": \"uint256\"},\n      {\"internalType\": \"string\", \"name\": \"_metricType\", \"type\": \"string\"}\n    ],\n    \"name\": \"createCommitment\",\n    \"outputs\": [],\n    \"stateMutability\": \"payable\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [{\"internalType\": \"uint256\", \"name\": \"_commitmentId\", \"type\": \"uint256\"}],\n    \"name\": \"getCommitment\",\n    \"outputs\": [\n      {\n        \"components\": [\n          {\"internalType\": \"uint256\", \"name\": \"id\", \"type\": \"uint256\"},\n          {\"internalType\": \"string\", \"name\": \"title\", \"type\": \"string\"},\n          {\"internalType\": \"string\", \"name\": \"description\", \"type\": \"string\"},\n          {\"internalType\": \"address\", \"name\": \"officialAddress\", \"type\": \"address\"},\n          {\"internalType\": \"string\", \"name\": \"officialName\", \"type\": \"string\"},\n          {\"internalType\": \"string\", \"name\": \"officialRole\", \"type\": \"string\"},\n          {\"internalType\": \"uint256\", \"name\": \"targetValue\", \"type\": \"uint256\"},\n          {\"internalType\": \"uint256\", \"name\": \"deadline\", \"type\": \"uint256\"},\n          {\"internalType\": \"string\", \"name\": \"metricType\", \"type\": \"string\"},\n          {\"internalType\": \"bool\", \"name\": \"isActive\", \"type\": \"bool\"},\n          {\"internalType\": \"bool\", \"name\": \"isFulfilled\", \"type\": \"bool\"},\n          {\"internalType\": \"bool\", \"name\": \"rewardClaimed\", \"type\": \"bool\"},\n          {\"internalType\": \"uint256\", \"name\": \"stakeAmount\", \"type\": \"uint256\"},\n          {\"internalType\": \"uint256\", \"name\": \"tokenReward\", \"type\": \"uint256\"}\n        ],\n        \"internalType\": \"struct CivicXChainGovernance.EnvironmentalCommitment\",\n        \"name\": \"\",\n        \"type\": \"tuple\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [{\"internalType\": \"uint256\", \"name\": \"_commitmentId\", \"type\": \"uint256\"}],\n    \"name\": \"checkFulfillment\",\n    \"outputs\": [\n      {\"internalType\": \"bool\", \"name\": \"fulfilled\", \"type\": \"bool\"},\n      {\"internalType\": \"uint256\", \"name\": \"currentValue\", \"type\": \"uint256\"},\n      {\"internalType\": \"uint256\", \"name\": \"targetValue\", \"type\": \"uint256\"}\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [{\"internalType\": \"uint256\", \"name\": \"_commitmentId\", \"type\": \"uint256\"}],\n    \"name\": \"claimEnvironmentalReward\",\n    \"outputs\": [{\"internalType\": \"uint256\", \"name\": \"tokensRewarded\", \"type\": \"uint256\"}],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [{\"internalType\": \"address\", \"name\": \"_account\", \"type\": \"address\"}],\n    \"name\": \"getTokenBalance\",\n    \"outputs\": [{\"internalType\": \"uint256\", \"name\": \"\", \"type\": \"uint256\"}],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [],\n    \"name\": \"getContractTokenBalance\",\n    \"outputs\": [{\"internalType\": \"uint256\", \"name\": \"\", \"type\": \"uint256\"}],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  }\n] as const;\n\nexport default function CivicXChainDashboard() {\n  const { address } = useAccount();\n  const [activeTab, setActiveTab] = useState('overview');\n  const [refreshTrigger, setRefreshTrigger] = useState(0);\n\n  // Read contract data\n  const { data: userTokenBalance } = useReadContract({\n    address: CONTRACT_CONFIG.GOVERNANCE_CONTRACT as `0x${string}`,\n    abi: GOVERNANCE_ABI,\n    functionName: 'getTokenBalance',\n    args: [address as `0x${string}`],\n  });\n\n  const { data: contractTokenBalance } = useReadContract({\n    address: CONTRACT_CONFIG.GOVERNANCE_CONTRACT as `0x${string}`,\n    abi: GOVERNANCE_ABI,\n    functionName: 'getContractTokenBalance',\n  });\n\n  // Get commitment data (we know there's at least commitment ID 1)\n  const { data: commitment1 } = useReadContract({\n    address: CONTRACT_CONFIG.GOVERNANCE_CONTRACT as `0x${string}`,\n    abi: GOVERNANCE_ABI,\n    functionName: 'getCommitment',\n    args: [1n],\n  });\n\n  const { data: fulfillmentStatus } = useReadContract({\n    address: CONTRACT_CONFIG.GOVERNANCE_CONTRACT as `0x${string}`,\n    abi: GOVERNANCE_ABI,\n    functionName: 'checkFulfillment',\n    args: [1n],\n  });\n\n  const tabs = [\n    { id: 'overview', name: 'Overview', icon: 'üìä' },\n    { id: 'commitments', name: 'Commitments', icon: 'üìã' },\n    { id: 'create', name: 'Create New', icon: '‚ûï' },\n    { id: 'rewards', name: 'My Rewards', icon: 'üèÜ' },\n  ];\n\n  const refreshData = () => {\n    setRefreshTrigger(prev => prev + 1);\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Quick Stats */}\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\n        <div className=\"bg-white rounded-lg shadow p-6\">\n          <div className=\"flex items-center\">\n            <div className=\"p-2 bg-green-100 rounded-lg\">\n              <span className=\"text-2xl\">üí∞</span>\n            </div>\n            <div className=\"ml-4\">\n              <p className=\"text-sm font-medium text-gray-600\">My CIVIC Tokens</p>\n              <p className=\"text-2xl font-bold text-gray-900\">\n                {userTokenBalance ? formatEther(userTokenBalance).slice(0, 8) : '0'}\n              </p>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-white rounded-lg shadow p-6\">\n          <div className=\"flex items-center\">\n            <div className=\"p-2 bg-blue-100 rounded-lg\">\n              <span className=\"text-2xl\">üè¶</span>\n            </div>\n            <div className=\"ml-4\">\n              <p className=\"text-sm font-medium text-gray-600\">Contract Reserve</p>\n              <p className=\"text-2xl font-bold text-gray-900\">\n                {contractTokenBalance ? `${(Number(formatEther(contractTokenBalance)) / 1000000).toFixed(1)}M` : '0M'}\n              </p>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-white rounded-lg shadow p-6\">\n          <div className=\"flex items-center\">\n            <div className=\"p-2 bg-yellow-100 rounded-lg\">\n              <span className=\"text-2xl\">üìä</span>\n            </div>\n            <div className=\"ml-4\">\n              <p className=\"text-sm font-medium text-gray-600\">Active Commitments</p>\n              <p className=\"text-2xl font-bold text-gray-900\">1</p>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-white rounded-lg shadow p-6\">\n          <div className=\"flex items-center\">\n            <div className=\"p-2 bg-purple-100 rounded-lg\">\n              <span className=\"text-2xl\">üéØ</span>\n            </div>\n            <div className=\"ml-4\">\n              <p className=\"text-sm font-medium text-gray-600\">Fulfillment Rate</p>\n              <p className=\"text-2xl font-bold text-gray-900\">\n                {fulfillmentStatus && fulfillmentStatus[0] ? '100%' : '0%'}\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Navigation Tabs */}\n      <div className=\"bg-white rounded-lg shadow\">\n        <div className=\"border-b border-gray-200\">\n          <nav className=\"-mb-px flex space-x-8 px-6\">\n            {tabs.map((tab) => (\n              <button\n                key={tab.id}\n                onClick={() => setActiveTab(tab.id)}\n                className={`py-4 px-1 border-b-2 font-medium text-sm ${\n                  activeTab === tab.id\n                    ? 'border-green-500 text-green-600'\n                    : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n                }`}\n              >\n                <span className=\"mr-2\">{tab.icon}</span>\n                {tab.name}\n              </button>\n            ))}\n          </nav>\n        </div>\n\n        {/* Tab Content */}\n        <div className=\"p-6\">\n          {activeTab === 'overview' && (\n            <div className=\"space-y-6\">\n              <EnvironmentalDataDisplay />\n              \n              {commitment1 && (\n                <div className=\"bg-gray-50 rounded-lg p-6\">\n                  <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">üéØ Current Test Commitment</h3>\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                    <div>\n                      <p className=\"text-sm text-gray-600\">Title</p>\n                      <p className=\"font-medium\">{commitment1[1]}</p>\n                    </div>\n                    <div>\n                      <p className=\"text-sm text-gray-600\">Official</p>\n                      <p className=\"font-medium\">{commitment1[4]} ({commitment1[5]})</p>\n                    </div>\n                    <div>\n                      <p className=\"text-sm text-gray-600\">Target PM2.5</p>\n                      <p className=\"font-medium\">{(Number(commitment1[6]) / 100).toFixed(2)} Œºg/m¬≥</p>\n                    </div>\n                    <div>\n                      <p className=\"text-sm text-gray-600\">Status</p>\n                      <p className={`font-medium ${fulfillmentStatus && fulfillmentStatus[0] ? 'text-green-600' : 'text-yellow-600'}`}>\n                        {fulfillmentStatus && fulfillmentStatus[0] ? '‚úÖ Fulfilled' : '‚è≥ In Progress'}\n                      </p>\n                    </div>\n                  </div>\n                </div>\n              )}\n            </div>\n          )}\n\n          {activeTab === 'commitments' && (\n            <CommitmentList \n              commitment={commitment1} \n              fulfillmentStatus={fulfillmentStatus}\n              onRefresh={refreshData}\n            />\n          )}\n\n          {activeTab === 'create' && (\n            <CreateCommitmentForm onSuccess={refreshData} />\n          )}\n\n          {activeTab === 'rewards' && (\n            <TokenBalance \n              userBalance={userTokenBalance}\n              commitment={commitment1}\n              fulfillmentStatus={fulfillmentStatus}\n              onRefresh={refreshData}\n            />\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4234, "column": 0}, "map": {"version":3,"sources":["file:///Users/kimberleycheung/CiviXchain/civicxchain-platform/frontend/app/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { useAccount, useConnect, useDisconnect } from 'wagmi';\nimport { injected } from 'wagmi/connectors';\nimport CivicXChainDashboard from './components/CivicXChainDashboard';\n\nexport default function Home() {\n  const { address, isConnected } = useAccount();\n  const { connect } = useConnect();\n  const { disconnect } = useDisconnect();\n  const [mounted, setMounted] = useState(false);\n\n  useEffect(() => {\n    setMounted(true);\n  }, []);\n\n  if (!mounted) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto\"></div>\n          <p className=\"mt-4 text-gray-600\">Loading CivicXChain...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (!isConnected) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 flex items-center justify-center\">\n        <div className=\"max-w-md w-full bg-white rounded-xl shadow-lg p-8 text-center\">\n          <div className=\"mb-6\">\n            <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">üåç CivicXChain</h1>\n            <p className=\"text-gray-600\">Environmental Governance on Blockchain</p>\n          </div>\n          \n          <div className=\"mb-6 p-4 bg-green-50 rounded-lg\">\n            <h2 className=\"text-lg font-semibold text-green-800 mb-2\">üéØ What You Can Do:</h2>\n            <ul className=\"text-sm text-green-700 space-y-1\">\n              <li>‚úÖ View real-time environmental commitments</li>\n              <li>‚úÖ Create new environmental targets</li>\n              <li>‚úÖ Track progress with live oracle data</li>\n              <li>‚úÖ Claim CIVIC token rewards</li>\n              <li>‚úÖ Monitor blockchain transactions</li>\n            </ul>\n          </div>\n\n          <div className=\"mb-6 p-4 bg-blue-50 rounded-lg\">\n            <h3 className=\"text-sm font-semibold text-blue-800 mb-2\">üîó Connected to Local Blockchain:</h3>\n            <div className=\"text-xs text-blue-700 space-y-1\">\n              <p>üìä PM2.5: 12.03 Œºg/m¬≥ (Live Data)</p>\n              <p>üåç CO2: 416.64 ppm (Live Data)</p>\n              <p>üå≥ Forest: 65.68% (Live Data)</p>\n              <p>üí∞ 100M CIVIC tokens ready</p>\n            </div>\n          </div>\n\n          <button\n            onClick={() => connect({ connector: injected() })}\n            className=\"w-full bg-gradient-to-r from-green-600 to-blue-600 text-white font-semibold py-3 px-6 rounded-lg hover:from-green-700 hover:to-blue-700 transition-all duration-200 shadow-lg hover:shadow-xl\"\n          >\n            ü¶ä Connect MetaMask to Start\n          </button>\n          \n          <p className=\"mt-4 text-xs text-gray-500\">\n            Make sure you're connected to localhost:8545 (Chain ID: 31337)\n          </p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-green-50 to-blue-50\">\n      {/* Header */}\n      <header className=\"bg-white shadow-sm border-b\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex justify-between items-center h-16\">\n            <div className=\"flex items-center\">\n              <h1 className=\"text-2xl font-bold text-gray-900\">üåç CivicXChain</h1>\n              <span className=\"ml-3 px-2 py-1 bg-green-100 text-green-800 text-xs font-medium rounded-full\">\n                Live on Local Blockchain\n              </span>\n            </div>\n            \n            <div className=\"flex items-center space-x-4\">\n              <div className=\"text-sm text-gray-600\">\n                <span className=\"font-medium\">Connected:</span> {address?.slice(0, 6)}...{address?.slice(-4)}\n              </div>\n              <button\n                onClick={() => disconnect()}\n                className=\"bg-red-100 text-red-700 px-3 py-1 rounded-lg text-sm hover:bg-red-200 transition-colors\"\n              >\n                Disconnect\n              </button>\n            </div>\n          </div>\n        </div>\n      </header>\n\n      {/* Main Dashboard */}\n      <main className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        <CivicXChainDashboard />\n      </main>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AAAA;AAAA;AACA;AACA;;;AALA;;;;;AAOe,SAAS;;IACtB,MAAM,EAAE,OAAO,EAAE,WAAW,EAAE,GAAG,CAAA,GAAA,8JAAA,CAAA,aAAU,AAAD;IAC1C,MAAM,EAAE,OAAO,EAAE,GAAG,CAAA,GAAA,8JAAA,CAAA,aAAU,AAAD;IAC7B,MAAM,EAAE,UAAU,EAAE,GAAG,CAAA,GAAA,iKAAA,CAAA,gBAAa,AAAD;IACnC,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;0BAAE;YACR,WAAW;QACb;yBAAG,EAAE;IAEL,IAAI,CAAC,SAAS;QACZ,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;;;;;kCACf,6LAAC;wBAAE,WAAU;kCAAqB;;;;;;;;;;;;;;;;;IAI1C;IAEA,IAAI,CAAC,aAAa;QAChB,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAG,WAAU;0CAAwC;;;;;;0CACtD,6LAAC;gCAAE,WAAU;0CAAgB;;;;;;;;;;;;kCAG/B,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAG,WAAU;0CAA4C;;;;;;0CAC1D,6LAAC;gCAAG,WAAU;;kDACZ,6LAAC;kDAAG;;;;;;kDACJ,6LAAC;kDAAG;;;;;;kDACJ,6LAAC;kDAAG;;;;;;kDACJ,6LAAC;kDAAG;;;;;;kDACJ,6LAAC;kDAAG;;;;;;;;;;;;;;;;;;kCAIR,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAG,WAAU;0CAA2C;;;;;;0CACzD,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;kDAAE;;;;;;kDACH,6LAAC;kDAAE;;;;;;kDACH,6LAAC;kDAAE;;;;;;kDACH,6LAAC;kDAAE;;;;;;;;;;;;;;;;;;kCAIP,6LAAC;wBACC,SAAS,IAAM,QAAQ;gCAAE,WAAW,CAAA,GAAA,2KAAA,CAAA,WAAQ,AAAD;4BAAI;wBAC/C,WAAU;kCACX;;;;;;kCAID,6LAAC;wBAAE,WAAU;kCAA6B;;;;;;;;;;;;;;;;;IAMlD;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BAEb,6LAAC;gBAAO,WAAU;0BAChB,cAAA,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAG,WAAU;kDAAmC;;;;;;kDACjD,6LAAC;wCAAK,WAAU;kDAA8E;;;;;;;;;;;;0CAKhG,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAI,WAAU;;0DACb,6LAAC;gDAAK,WAAU;0DAAc;;;;;;4CAAiB;4CAAE,SAAS,MAAM,GAAG;4CAAG;4CAAI,SAAS,MAAM,CAAC;;;;;;;kDAE5F,6LAAC;wCACC,SAAS,IAAM;wCACf,WAAU;kDACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAST,6LAAC;gBAAK,WAAU;0BACd,cAAA,6LAAC,6IAAA,CAAA,UAAoB;;;;;;;;;;;;;;;;AAI7B;GApGwB;;QACW,8JAAA,CAAA,aAAU;QACvB,8JAAA,CAAA,aAAU;QACP,iKAAA,CAAA,gBAAa;;;KAHd","debugId":null}}]
}